<h2>Usuarios Registrados</h2>

<div style="position: relative; width: 100%; max-width: 400px;">
    <input
        type="text"
        id="buscador"
        placeholder="Buscar por Año, Mes o Dia"
        style="width: 100%; padding-right: 40px;"
        class="form-control"
    />
    <i class="fas fa-search" 
       style="
            position: absolute; 
            right: 10px; 
            top: 50%; 
            transform: translateY(-50%); 
            color: #6c757d; 
            font-size: 1.2rem; 
            cursor: pointer;">
    </i>
</div>
<br>
<!-- Tabla de resultados -->
<table class="table table-striped table-bordered" id="tablaUsuarios">
    <thead class="thead-dark">
        <tr>
            <th>Año</th>
            <th>Mes</th>
            <th>Día</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Correo</th>
        </tr>
    </thead>
    <tbody>
        {{#each usuarios}}
        <tr>
            <td>{{this.anio}}</td>
            <td>{{this.mes}}</td>
            <td>{{this.dia}}</td>
            <td>{{this.USER_NOMBRE}}</td>
            <td>{{this.USER_APELLIDO}}</td>
            <td>{{this.USER_CORREO}}</td>
        </tr>
        {{/each}}
    </tbody>
</table>
<br>
<!-- Total de registros -->
<h3 id="totalRegistros">
    Total de registros: {{totalRegistros}}
</h3>


{{!-- <script>
    document.getElementById('buscador').addEventListener('input', function () {
        const filtro = this.value.toLowerCase();
        const filas = document.querySelectorAll('#tablaUsuarios tr');

        filas.forEach((fila) => {
            const textoFila = fila.textContent.toLowerCase();
            fila.style.display = textoFila.includes(filtro) ? '' : 'none';
        });
    });
</script>  --}}

<script>
    document.getElementById('buscador').addEventListener('input', function () {
    const filtro = this.value.toLowerCase();
    const filas = document.querySelectorAll('#tablaUsuarios tbody tr');
    let totalVisibles = 0;

    filas.forEach((fila) => {
        const textoFila = fila.textContent.toLowerCase();
        if (textoFila.includes(filtro)) {
            fila.style.display = '';
            totalVisibles++; // Incrementar si la fila está visible
        } else {
            fila.style.display = 'none';
        }
    });

    // Actualizar el contador de registros
    document.getElementById('totalRegistros').textContent = `Total de registros: ${totalVisibles}`;
});
</script>





